// âœ… EVENTS IN JAVASCRIPT â€” DETAILED NOTES

/*
ğŸ“Œ WHAT IS AN EVENT?
An event is an action or occurrence that happens in the browser that JavaScript can respond to.
Examples: mouse click, keypress, form submission, page load, etc.

ğŸ§  Events allow developers to write code that reacts to user interactions.
*/

// âœ… 1. ADDING EVENT LISTENERS

/*
There are 3 common ways to add events in JavaScript:

1ï¸âƒ£ Inline Event Handlers (in HTML):
<button onclick="alert('Clicked!')">Click</button>

2ï¸âƒ£ HTML DOM Property:
const btn = document.getElementById("myBtn");
btn.onclick = function() {
  alert("Clicked!");
};

3ï¸âƒ£ addEventListener (âœ… Best Practice):
btn.addEventListener("click", function() {
  alert("Clicked!");
});
*/



// Select the first <input> element from the page
let inp = document.querySelector("input");

// Listen for any input changes (typing, deleting, pasting)
inp.addEventListener("input", function (dets) {
    // Logs the last character typed or removed
    console.log(dets.data);  //when space then null

    // To get the full input text, use: dets.target.value
});

always try to find the thing you want to changes in details



// âœ… 2. MOUSE EVENTS

/*
1ï¸âƒ£ click â€” When an element is clicked
2ï¸âƒ£ dblclick â€” When an element is double clicked
3ï¸âƒ£ mouseover â€” When mouse hovers over an element
4ï¸âƒ£ mouseout â€” When mouse leaves the element
5ï¸âƒ£ mousedown â€” When mouse button is pressed
6ï¸âƒ£ mouseup â€” When mouse button is released
*/

// Example:
const box = document.querySelector(".box");
box.addEventListener("click", function() {
  box.style.backgroundColor = "red";
});

// âœ… 3. KEYBOARD EVENTS

/*
1ï¸âƒ£ keydown â€” When a key is pressed
2ï¸âƒ£ keyup â€” When a key is released
3ï¸âƒ£ keypress â€” When a key is pressed (deprecated)
*/

document.addEventListener("keydown", function(e) {
  console.log("Key pressed: ", e.key);
});

// âœ… 4. FORM EVENTS

/*
1ï¸âƒ£ submit â€” When a form is submitted
2ï¸âƒ£ focus â€” When an input gains focus
3ï¸âƒ£ blur â€” When an input loses focus
4ï¸âƒ£ change â€” When value is changed (select, checkbox, etc.)
*/
 
document.querySelector("form").addEventListener("submit", function(e) {
  e.preventDefault(); // Prevents actual form submission
  alert("Form submitted!");
});

// âœ… 5. WINDOW EVENTS

/*
1ï¸âƒ£ load â€” When the page fully loads
2ï¸âƒ£ resize â€” When the browser window is resized
3ï¸âƒ£ scroll â€” When the page is scrolled
4ï¸âƒ£ unload â€” When the page is about to unload
*/

window.addEventListener("load", function() {
  console.log("Page loaded!");
});




/*
ğŸ”¹ input event fires every time an inputâ€™s value changes (typing, pasting, deleting).
ğŸ”¹ Works on <input>, <textarea>, and contenteditable elements.
ğŸ”¹ Fires immediately (unlike 'change', which waits for blur).

ğŸ”¹ Syntax:
element.addEventListener("input", (e) => {
  console.log(e.target.value); // current input value
});

ğŸ”¹ Example: Live character count
input.addEventListener("input", (e) => {
  count.textContent = "Length: " + e.target.value.length;
});

// âœ… 6. EVENT OBJECT (e)

/*
Every event listener gets an event object as argument that contains information like:
- e.type â†’ type of event
- e.target â†’ the element that triggered the event
- e.key â†’ the key pressed (for keyboard events)
- e.clientX / e.clientY â†’ mouse coordinates
*/

document.addEventListener("click", function(e) {
  console.log("Clicked on:", e.target.tagName);
}); 

// âœ… 7. THIS KEYWORD

/*
Inside event handlers:
- In regular function, `this` refers to the element on which event was bound.
- In arrow functions, `this` does NOT refer to element (lexical scope).
*/

const para = document.querySelector("p");
para.addEventListener("click", function() {
  this.style.color = "red"; // turns paragraph red when clicked
});

// âœ… 8. EVENT BUBBLING VS CAPTURING

/*
ğŸ“Œ Bubbling: Event goes from target up to ancestors.
ğŸ“Œ Capturing: Event goes from top (root) down to the target.

By default, JavaScript uses **bubbling**.
To use capturing, pass `true` in addEventListener.
*/

document.body.addEventListener("click", function() {
  console.log("Body clicked");
}, true); // Capturing

// âœ… 9. STOP PROPAGATION

/*
Used to stop event from bubbling up or capturing down.
Useful when you don't want parent handlers to fire.
*/

document.querySelector(".child").addEventListener("click", function(e) {
  e.stopPropagation();
  console.log("Child clicked, not bubbling up!");
});

// âœ… 10. EVENT DELEGATION

/*
Event delegation is the practice of adding a single event listener to a parent element instead of each child element.
Useful when you have dynamic content.
*/

document.querySelector(".parent").addEventListener("click", function(e) {
  if (e.target.tagName === "BUTTON") {
    alert("Button " + e.target.textContent + " clicked!");
  }
});

// âœ… 11. REMOVING EVENT LISTENERS

/*
You can remove an event listener using `removeEventListener`. The function passed should be a named function.
*/

function greet() {
  alert("Hello!");
}

const btn2 = document.querySelector("#btn2");
btn2.addEventListener("click", greet);
btn2.removeEventListener("click", greet); // will remove

// âœ… 12. COMMON INTERVIEW/EXAM Qs BASED ON EVENTS:

/*
Q1: What is the difference between event bubbling and capturing?
Q2: What does stopPropagation() do?
Q3: What is event delegation and why is it useful?
Q4: Difference between onclick and addEventListener?
Q5: How can you prevent form from submitting?
Q6: Can you attach multiple events to same element?
Q7: What is the difference between e.target and e.currentTarget?
Q8: How do arrow functions behave differently inside event handlers?
*/

// âœ… PRACTICAL TASK: CLICK PARAGRAPH TO TURN RED

const p = document.querySelector("p");
p.addEventListener("click", function() {
  this.style.color = "red"; // turns paragraph red when clicked
});

// âœ… SUMMARY

/*
âœ” Events are user actions JS can respond to.
âœ” Use addEventListener for best flexibility.
âœ” Know the main types: mouse, keyboard, form, window.
âœ” Understand bubbling, capturing, stopPropagation.
âœ” Use delegation for efficient dynamic content handling.
âœ” Master event object properties and `this` behavior.
*/


/*
ğŸ‘¨â€ğŸ« Q1: What is the difference between Event Bubbling and Event Capturing?

ğŸ”¹ Event Bubbling:
- The event starts from the target element and bubbles up to its ancestors (child â†’ parent â†’ grandparent).
- Default behavior in most browsers.
- You handle events closer to the bottom of the DOM.

ğŸ”¹ Event Capturing (Trickling):
- The event starts from the root and trickles down to the target element (grandparent â†’ parent â†’ child).
- Requires `addEventListener` with the third argument set to `true`.

Example:
document.getElementById("child").addEventListener("click", fn, false); // bubbling
document.getElementById("child").addEventListener("click", fn, true);  // capturing
*/


/*
ğŸ‘¨â€ğŸ« Q2: What does stopPropagation() do?

ğŸ”¹ `stopPropagation()` prevents the event from bubbling up or capturing down further in the DOM tree.
- Used when you donâ€™t want the parent elements to be notified of the event.

Example:
child.addEventListener("click", function(e) {
  e.stopPropagation(); // Event stops here
  console.log("Child clicked");
});
*/


/*
ğŸ‘¨â€ğŸ« Q3: What is Event Delegation and Why is it Useful?

ğŸ”¹ Event Delegation is a technique where a single event listener is added to a parent element
  instead of multiple listeners on each child.

âœ… Benefits:
- Memory efficient.
- Works with dynamically added elements.

Example:
document.getElementById("list").addEventListener("click", function(e) {
  if (e.target.tagName === "LI") {
    console.log("Clicked:", e.target.textContent);
  }
});
*/


/*
ğŸ‘¨â€ğŸ« Q4: Difference between onclick and addEventListener?

ğŸ”¹ onclick:
- Overwrites any previously assigned onclick handlers.
- Limited to one handler.

ğŸ”¹ addEventListener:
- Can attach multiple handlers.
- Allows use of options like `capture`, `once`, `passive`.

Example:
elem.onclick = () => alert("clicked1");    // only one
elem.onclick = () => alert("clicked2");    // overwrites previous

elem.addEventListener("click", () => alert("clicked1"));
elem.addEventListener("click", () => alert("clicked2")); // both will work
*/


/*
ğŸ‘¨â€ğŸ« Q5: How can you prevent a form from submitting?

ğŸ”¹ Use `event.preventDefault()` in the form's submit event to stop default behavior.

Example:
document.querySelector("form").addEventListener("submit", function(e) {
  e.preventDefault(); // stops form submission
  alert("Form validation failed!");
});
*/


/*
ğŸ‘¨â€ğŸ« Q6: Can you attach multiple events to the same element?

âœ… Yes, using `addEventListener`, you can add multiple event types or handlers to the same element.

Example:
const btn = document.getElementById("btn");

btn.addEventListener("click", () => console.log("Clicked"));
btn.addEventListener("mouseover", () => console.log("Hovered"));
*/


/*
ğŸ‘¨â€ğŸ« Q7: What is the difference between e.target and e.currentTarget?

ğŸ”¹ e.target:
- Refers to the actual DOM element that triggered the event.
- It can be a child element.

ğŸ”¹ e.currentTarget:
- Refers to the element on which the event listener is attached.

Example:
<div id="parent">
  <button id="child">Click me</button>
</div>

parent.addEventListener("click", function(e) {
  console.log("target:", e.target);       // might be the button
  console.log("currentTarget:", e.currentTarget); // always parent
});
*/


/*
ğŸ‘¨â€ğŸ« Q8: How do arrow functions behave differently inside event handlers?

ğŸ”¹ Arrow functions do **not bind their own `this`**. 
- They inherit `this` from the parent scope.
- Inside an arrow function used in an event, `this` won't refer to the element.

Example:
button.addEventListener("click", () => {
  console.log(this); // likely 'window' or outer context, not button
});

button.addEventListener("click", function() {
  console.log(this); // refers to button element
});
*/

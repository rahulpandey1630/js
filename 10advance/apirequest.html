<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"> <!-- Specifies the character encoding for the document -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Ensures the page is responsive on all devices -->
    <title>Document</title> <!-- Title of the web page -->
</head>
<body style="background-color: #212121;"> <!-- Set background color to dark gray for better readability -->
    <!-- A description of the different `readyState` values for an XMLHttpRequest -->
    <!-- 
        0 (UNSENT): Client has been created. open() not called yet.
        1 (OPENED): open() has been called.
        2 (HEADERS_RECEIVED): send() has been called, and headers and status are available.
        3 (LOADING): Downloading; responseText holds partial data.
        4 (DONE): The operation is complete.
    -->
</body>
<script>
    
   /* XHR vs Fetch: Key Points
Syntax:

XHR: Verbose and callback-based.
Fetch: Clean, promise-based, and modern.
Error Handling:

XHR: Manually check status and readyState.
Fetch: Use .catch(), but check response.ok for HTTP errors.
JSON Parsing:

XHR: Requires JSON.parse().
Fetch: Built-in .json() method.
Streaming:

XHR: No support for streaming.
Fetch: Supports modern streaming features.
Browser Support:

XHR: Works in old and new browsers.
Fetch: Supported in modern browsers, but not in older ones like IE.
Recommendation: Use fetch for modern applications; fall back to XHR for legacy browser support.
*/

    // The URL for the API request (GitHub API endpoint for user data)
    const requestUrl = 'https://api.github.com/users/hiteshchoudhary';

    // Create a new instance of XMLHttpRequest
    const xhr = new XMLHttpRequest();

    // open() initializes the request
    // Syntax: xhr.open(method, url)
    // - 'GET': Specifies the HTTP method for retrieving data
    // - requestUrl: The target API endpoint
    xhr.open('GET', requestUrl);

    // Define the event handler for the state change of the request
    xhr.onreadystatechange = function () {
        // Logs the current `readyState` of the XMLHttpRequest object
        console.log(xhr.readyState);

        // When readyState is 4 (DONE), the response is fully received
        if (xhr.readyState === 4) {
            // Parse the JSON response text into a JavaScript object
            const data = JSON.parse(this.responseText);

            // Log the type of the parsed data (should be 'object')
            console.log(typeof data);

            // Log the number of followers from the API response
            console.log(data.followers);
        }
    };

    // Sends the request to the server
    xhr.send();

    /*
        Explanation of Key Points in the Code:
        1. XMLHttpRequest (XHR):
           - Allows interaction with servers asynchronously without reloading the web page.
           - Used to fetch data from APIs or servers, such as retrieving user data.

        2. xhr.open(method, url):
           - Initializes the HTTP request.
           - Configures the HTTP method ('GET' or 'POST') and the target URL for the request.

        3. xhr.onreadystatechange:
           - An event listener that triggers whenever the `readyState` changes.
           - Used to track the progress of the request and handle responses accordingly.

        4. xhr.readyState:
           - Represents the current state of the XHR object.
           - Values:
               0 (UNSENT): Request created but not initialized.
               1 (OPENED): Request initialized with `open()`.
               2 (HEADERS_RECEIVED): Request sent, and headers are available.
               3 (LOADING): Response body is being downloaded.
               4 (DONE): Request is complete, and the response is ready.

        5. xhr.responseText:
           - Contains the full response body as a text string.
           - Used to access server responses (like JSON, HTML, or plain text).

        6. JSON.parse():
           - Converts JSON strings into JavaScript objects.
           - Enables access to structured data from the server.

        7. xhr.send():
           - Sends the initialized HTTP request to the server.
           - Completes the request lifecycle.

        Use Case for This Code:
        - Fetches GitHub user data (e.g., followers) from the API and logs it to the console.
        - Demonstrates how to use `XMLHttpRequest` for API communication.

        Suggested Improvements:
        - Use the modern `fetch()` API for better readability and cleaner code.
        - Add error handling for scenarios like network failures or invalid responses.
    */
</script>
</html>
 